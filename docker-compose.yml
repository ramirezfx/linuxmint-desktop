version: '3'
services:
  mate-desktop:
    security_opt:
    - seccomp:unconfined
    shm_size: "2gb"
    environment:
    - USER={{ USERNAME }}
    - PASSWORD={{ PASSWORD }}
    - LANG={{ LOCALE }}
    - TZ={{ TIMEZONE }}
    - LANGSHORTNAME={{ LANGSHORTNAME }}
    cap_add:
    - SYS_PTRACE
    - net_admin
    image: ramirezfx/linuxmint-desktop:{{ VERSION }}
    restart: always
    stdin_open: true
    tty: true
    ports:
    - {{ NOMACHINE_PORT }}:4000/tcp
    - {{ NOMACHINE_UDP_PORT }}:4000/udp
    volumes:
      - /dev/net/tun:/dev/net/tun
